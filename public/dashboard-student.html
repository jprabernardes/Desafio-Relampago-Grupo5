<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Aluno</title>
    <script src="./config.js"></script>
    <script src="./js/base-path.js"></script>
    <link rel="stylesheet" href="./css/dashboard-student.css" />
    <link rel="stylesheet" href="./css/common.css" />
  </head>

  <body class="closed-menu">
    <div class="black-layer" onclick="openCloseMenu()"></div>

    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">ğŸ’ª FitManager</div>
        <nav>
          <div class="nav-item active" data-section="workouts">
            ğŸ’ª Meus Treinos
          </div>
          <div class="nav-item" data-section="classes">
            ğŸ‹ï¸ Aulas DisponÃ­veis
          </div>
          <div class="nav-item" data-section="my-classes">
            ğŸ“… Minhas InscriÃ§Ãµes
          </div>
          <div class="nav-item" data-section="calendar">ğŸ—“ï¸ CalendÃ¡rio</div>
        </nav>
        <button class="logout-btn" onclick="logout()">ğŸšª Sair</button>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <div class="header">
          <button class="openMenuButton" onclick="openCloseMenu()">
            <span></span><span></span><span></span>
          </button>
          <h1>Dashboard Aluno</h1>
          <div class="user-info">
            <div class="user-avatar" id="userAvatar">A</div>
            <span id="userName">Carregando...</span>
          </div>
        </div>

        <!-- Alert -->
        <div class="alert" id="alert"></div>

        <!-- Workouts Section -->
        <section class="section active" id="workouts">
          <h2>Meus Treinos</h2>
          <div id="workoutsList">
            <p>Carregando...</p>
          </div>
        </section>

        <!-- Available Classes Section -->
        <section class="section" id="classes">
          <h2>Aulas DisponÃ­veis</h2>
          <div id="classesList">
            <p>Carregando...</p>
          </div>
        </section>

        <!-- My Classes Section -->
        <section class="section" id="my-classes">
          <h2>Minhas InscriÃ§Ãµes</h2>
          <div id="myClassesList">
            <p>Carregando...</p>
          </div>
        </section>

        <!-- Calendar Section -->
        <section class="section" id="calendar">
          <h2>CalendÃ¡rio de Atividades</h2>

          <div class="calendar-stats">
            <div class="stat-card">
              <h3>Check-ins</h3>
              <span id="totalCheckins">0</span>
            </div>
            <div class="stat-card">
              <h3>Aulas</h3>
              <span id="totalClasses">0</span>
            </div>
          </div>

          <div class="calendar-controls">
            <button class="btn btn-secondary" onclick="changeMonth(-1)">
              â® Anterior
            </button>
            <h3 id="currentMonthLabel"></h3>
            <button class="btn btn-secondary" onclick="changeMonth(1)">
              PrÃ³ximo â¯
            </button>
          </div>

          <div class="calendar-grid" id="calendarGrid">
            <!-- Calendar will be populated by JS -->
          </div>
        </section>
      </main>
    </div>

    <!-- Class Details Modal -->
    <div class="modal" id="classDetailsModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalClassTitle">Detalhes da Aula</h2>
        </div>
        <div id="modalClassBody">
          <div class="modal-info-item">
            <span class="modal-location-icon">ğŸ“</span>
            <span id="modalClassInfo" class="modal-location-text"></span>
          </div>
          <div class="modal-section-wrapper">
            <h4 class="modal-section-title">DescriÃ§Ã£o</h4>
            <p id="modalClassDescription" class="modal-description-text"></p>
          </div>
          <div id="modalClassStatus" class="modal-status-container"></div>
        </div>
        <div class="form-actions" id="modalClassActions">
          <!-- BotÃ£o serÃ¡ inserido dinamicamente -->
        </div>
      </div>
    </div>

    <div class="modal" id="calendarModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="calendarModalDate">Detalhes do Dia</h2>
          <button class="close-btn" onclick="closeCalendarModal()">
            &times;
          </button>
        </div>
        <div id="calendarModalBody">
          <!-- Details will be populated by JS -->
        </div>
        <div class="form-actions">
          <button class="btn btn-secondary" onclick="closeCalendarModal()">
            Fechar
          </button>
        </div>
      </div>
    </div>

    <div class="modal" id="confirmModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>ConfirmaÃ§Ã£o</h2>
        </div>
        <p id="confirmMessage" class="confirm-modal-message">Tem certeza?</p>
        <div class="form-actions">
          <button class="btn" onclick="closeConfirmModal()">NÃ£o</button>
          <button class="btn btn-danger" onclick="confirmAction()">
            Sim, tenho certeza
          </button>
        </div>
      </div>
    </div>
    <script src="./js/app-config.js"></script>
    <script src="./js/api.js"></script>
    <script src="./js/dashboard-student.js"></script>
  </body>
</html>
